import { uniqueId, NodeDefinition, RelationshipRule } from 'common';

export {
  provenanceNodes,
  studies,
  informationFields,
  informationRelationships,
  dependencyRelationships,
} from './assets/web-provenance-export.json';

// Definitions
const model: NodeDefinition = {
  id: 'Model',
  classification: 'entity',
  labelFormatString: "M${version}${study ? ' (' + study.source  + ')' : ''}",
}

const wetLabData: NodeDefinition = {
  id: 'WetLabData',
  classification: 'entity',
}

const simulationData: NodeDefinition = {
  id: 'SimulationData',
  classification: 'entity',
}

const modelBuildingActivity: NodeDefinition = {
  id: 'ModelBuildingActivity',
  label: 'MBA',
  classification: 'activity',
}

const modelExplorationActivity: NodeDefinition = {
  id: 'ModelExplorationActivity',
  label: 'MEA',
  classification: 'activity',
}

const theoreticalKnowledge: NodeDefinition = {
  id: 'TheoreticalKnowledge',
  label: 'TK',
  classification: 'entity',
}

export const rules: RelationshipRule[] = [
  {
    id: 'model-building-activity-used-for-calibration-validation-wet-lab-data',
    type: ['Used for calibration', 'Used for validation'],
    cardinality: 'one-to-many',
    source: modelBuildingActivity.id,
    target: wetLabData.id,
  },
  {
    id: 'model-building-activity-used-for-calibration-validation-simulation-data',
    type: ['Used for calibration', 'Used for validation'],
    cardinality: 'one-to-many',
    source: modelBuildingActivity.id,
    target: simulationData.id,
  },
  {
    id: 'model-building-activity-used-model',
    type: ['Used'],
    cardinality: 'one-to-many',
    source: modelBuildingActivity.id,
    target: model.id,
  },
  {
    id: 'model-derived-from-model',
    type: ['Derived from'],
    cardinality: 'one-to-one',
    source: model.id,
    target: model.id,
  },
  {
    id: 'model-generated-by-model-building-activity',
    type: ['Generated by'],
    cardinality: 'one-to-one',
    source: model.id,
    target: modelBuildingActivity.id,
  },
  {
    id: 'model-exploration-activity-used-model',
    type: ['Used'],
    cardinality: 'one-to-one',
    source: modelExplorationActivity.id,
    target: model.id,
  },
  {
    id: 'simulation-data-generated-by-model-building-activity',
    type: ['Generated by'],
    cardinality: 'one-to-one',
    source: simulationData.id,
    target: modelBuildingActivity.id,
  },
  {
    id: 'simulation-data-generated-by-model-exploration-activity',
    type: ['Generated by'],
    cardinality: 'one-to-one',
    source: simulationData.id,
    target: modelExplorationActivity.id,
  },
  {
    id: 'theoretical-knowledge-derived-from-model-exploration-activity',
    type: ['Derived from'],
    cardinality: 'one-to-many',
    source: theoreticalKnowledge.id,
    target: modelExplorationActivity.id,
  },
  {
    id: 'theoretical-knowledge-derived-from-model-building-activity',
    type: ['Derived from'],
    cardinality: 'one-to-many',
    source: theoreticalKnowledge.id,
    target: modelBuildingActivity.id,
  },
]

export const definitions: NodeDefinition[] = [
  model,
  wetLabData,
  simulationData,
  modelBuildingActivity,
  modelExplorationActivity,
  theoreticalKnowledge,
]